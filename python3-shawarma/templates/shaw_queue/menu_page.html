{% extends "shaw_queue/base.html" %}
<title>Меню</title>
{% block aditional_static %}
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'queue/loader.css' %}">
    <script type="text/javascript" src="{% static 'js/menu_handlers.js' %}"></script>
{% endblock %}
{% block content %}
    <input hidden id="menu-urls" data-status-refresh-url="{% url 'status_refresh' %}" data-search-comment="{% url 'search_comment' %}">
    <input hidden id="is-modal" value="{{ is_modal }}">
    <div class="modal" id="modal-edit">
        <div class="modal-content">
            <span class="close" id="close-modal">&times;</span>
            <p id="item-title" class="modal-title">Title</p>
            <p>
                <label for="item-quantity" class="modal-label">Количество</label>
                <input type="text" value="" class="quantityInput" id="item-quantity" onclick="this.setSelectionRange(0, this.value.length)">
                <button class="btn info" id="plus-button">+</button>
                <button class="btn info" id="minus-button">-</button>
            <div class="quick-comment-container">
                <button class="btn img-btn" id="cheese-button"><img alt="" src="{% static 'img/btns/cheese.png' %}"></button>
                <button class="btn img-btn" id="greens-button"><img alt="" src="{% static 'img/btns/greens.png' %}"></button>
                <button class="btn img-btn" id="spicy-button"><img alt="" src="{% static 'img/btns/spicy.png' %}"></button>
                <button class="btn img-btn" id="spicy30-button"><img alt="" src="{% static 'img/btns/spicy30.png' %}"></button>
                <button class="btn img-btn" id="yellow-button"><img alt="" src="{% static 'img/btns/yellow.png' %}"></button>
                <button class="btn img-btn" id="noOnion-button"><img alt="" src="{% static 'img/btns/noOnion.png' %}"></button>
                <button class="btn img-btn" id="saucePlus-button"><img alt="" src="{% static 'img/btns/saucePlus.png' %}"></button>
                <button class="btn img-btn" id="sauceMinus-button"><img alt="" src="{% static 'img/btns/sauceMinus.png' %}"></button>
                <button class="btn img-btn" id="noVegetables-button"><img alt="" src="{% static 'img/btns/noVegetables.png' %}"></button>
                <button class="btn img-btn" id="frenchFries-button"><img alt="" src="{% static 'img/btns/frenchFries.png' %}"></button>
                <button class="btn img-btn" id="chile-button"><img alt="" src="{% static 'img/btns/chile.png' %}"></button>
                <button class="btn img-btn" id="mushrooms-button"><img alt="" src="{% static 'img/btns/mushrooms.png' %}"></button>
                <button class="btn img-btn" id="jalapeno-button"><img alt="" src="{% static 'img/btns/jalapeno.png' %}"></button>
                <button class="btn img-btn" id="bellPepper-button"><img alt="" src="{% static 'img/btns/bellPepper.png' %}"></button>
            </div>
            </p>
            <p>
                <label for="item-note" class="modal-label">Комментарий</label>
                <input type="text" value="" class="live-search-box" id="item-note">
            <div id="dropdown-list-container"></div>
            </p>
        </div>
    </div>
    <div class="modal" id="modal-status">
        <div class="modal-content">
            {#            <span class="close" id="close-modal-status">&times;</span>#}
            <div class="loader-container" id="loader-container">
                <div class="loader" id="loading-indicator"></div>
            </div>
            <p class="status-display" id="status-display">
                Статус...
            </p>
            <p class="modal-cash-input-container">
                <label for="order-change" class="modal-label" id="order-change-label" hidden>Наличные</label>
                <input type="text" value="" class="modal-quantity-input" id="order-change" onclick="this.setSelectionRange(0, this.value.length)" onkeyup="CalculateChange()" hidden>
            </p>
            <p class="status-display" id="change-display" hidden>
                Сдача...
            </p>
            <p class="modal-buttons-container">
                <button class="btn success" id="status-OK-button" onclick="OKHandeler()">OK</button>
                <button class="btn danger" id="status-cancel-button" onclick="CancelHandler()">Отмена</button>
                <button class="btn warning" id="status-retry-button" onclick="RetryHandler()">Повторить</button>
                <button class="btn warning" id="status-retry-cash-button" onclick="RetryCashHandler()">Оплатить наличными</button>
            </p>
        </div>
    </div>
    <div class="menu-div">
        {% include 'shaw_queue/menu.html' with menu_items=menu_items %}
    </div>
    <div class="order-div">
        <table class="currentOrderTable" id="menu-order-display">
            <thead>Содержание заказа
            <tr>
                <td class="currentOrderTotalText">
                    <div>
                        Итого
                    </div>
                </td>
                <td class="currentOrderTotalFig">
                    <div>
                        <p class="totalDisplay">

                        </p>
                    </div>
                </td>
            </tr>
            </thead>

            <tbody></tbody>
            <tfoot>
            <tr>
                <td class="currentOrderTotalText">
                    <div>
                        Итого
                    </div>
                </td>
                <td class="currentOrderTotalFig">
                    <div>
                        <p class="totalDisplay">

                        </p>
                    </div>
                </td>
            </tr>
            <tr>
                <button type="button" class="subm small-btn success" data-send-url="{% url 'make_order' %}">
                    Принять
                </button>
                <div class="shadowed">
                    <p>
                        <input type="radio" id="not_paid" checked value="not_paid" name="payment_choose">
                        <label for="not_paid">Не Оплачен</label>
                    </p>
                    <p>
                        <input type="radio" id="paid_with_cash" value="paid_with_cash" name="payment_choose">
                        <label for="paid_with_cash">Наличные</label>
                    </p>
                    <p>
                        <input type="radio" id="paid_without_cash" value="paid_without_cash" name="payment_choose">
                        <label for="paid_without_cash">Безналичный</label>
                    </p>
                </div>
                <div class="shadowed">
                    <p>
                        <input type="radio" id="cook_none" checked name="cook_choose" value="none">
                        <label for="cook_none">Свободная очередь</label>
                    </p>
                    <p>
                        <input type="radio" id="cook_auto" checked name="cook_choose" value="auto">
                        <label for="cook_auto">Автоназначение</label>
                    </p>
                    {% for available_cooker in available_cookers %}
                        <p>
                            <input type="radio" id="cook_{{ available_cooker.id }}" name="cook_choose" value="{{ available_cooker.id }}">
                            <label for="cook_{{ available_cooker.id }}">{{ available_cooker.user.first_name }} {{ available_cooker.user.last_name }}</label>
                        </p>
                    {% endfor %}
                </div>
                <div class="shadowed">
                    <p>
                        <input type="radio" id="discount_10" name="discount" value="10">
                        <label for="discount_10">Скидка 10%</label>
                    </p>
                    <p>
                        <input type="radio" id="discount_15" name="discount" value="15">
                        <label for="discount_15">Скидка 15%</label>
                    </p>
                    <p>
                        <input type="checkbox" id="preorder" name="preorder_checkbox" value="1">
                        <label for="preorder_checkbox">Предзаказ</label>
                    </p>
                    <p>
                        <input type="checkbox" id="pickup" name="pickup_checkbox" value="1">
                        <label for="pickup_checkbox">С собой</label>
                    </p>
                </div>


            </tr>
            </tfoot>
        </table>
    </div>
{% endblock %}
